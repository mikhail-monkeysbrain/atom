!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){a(1),e.exports=a(15)},function(e,t,a){"use strict";a.r(t);a(2),a(3),a(4),a(5),a(6),a(7),a(8),a(9),a(10),a(11),a(12),a(13),a(14)},function(e,t){var a=$('[data-toggle="tooltip"]');$(document).ready(void a.tooltip())},function(e,t){var a=$("body"),n=$(".header--burger"),i=($(".menu"),$(".main"),$(".menu--item")),r=$(".menu--collapse--item"),o=$(".menu").attr("data-current"),l=localStorage.getItem("menuOpen"),s=$(window).width()<991;$(document).ready(void("true"===l?a.addClass("open-menu"):a.removeClass("open-menu")),void r.each(function(){var e=$(this),t=e.parent(".menu--collapse");e.attr("data-page")===o&&(e.addClass("menu--collapse--item__current"),t.slideDown().parent(".menu--item").addClass("menu--item__expand"))}),void i.click(function(e){var t=$(e.currentTarget),a=$(".menu--collapse"),n=$(".menu--item"),i=t.find(".menu--collapse");t.hasClass("menu--item__expand")?(a.slideUp(),n.removeClass("menu--item__expand")):(a.slideUp(),n.removeClass("menu--item__expand"),i.slideDown(),t.addClass("menu--item__expand"))}),void(s?(localStorage.setItem("menuOpen","false"),n.click(function(){a.toggleClass("no-scroll open-menu")})):n.click(function(){a.toggleClass("open-menu"),"true"===l?localStorage.setItem("menuOpen","false"):localStorage.setItem("menuOpen","true")})))},function(e,t){var a=$(".table__check input"),n=$(".table-responsive tbody tr th input"),i=$("td"),r=$(".table--open-filter .fa-filter"),o=$(".table--open-filter .js-closeDialog"),l=$(".table--sort__up, .table--sort__down"),s=($("body"),$("html")),c=$(".paggination--item__current");function u(){var e=c.closest(".overflow__custom"),t=e.width()/2,a=41*c.text()-t;e.scrollLeft(a)}$(document).ready(void a.on("change",function(e){$(e.currentTarget).prop("checked")?n.prop("checked",!0):n.prop("checked",!1)}),(i.click(function(e){var t=$(e.currentTarget),a=(t.height(),t.parent("tr").attr("data-href"));t.find("a").attr("href",a)}),void i.find(".toggler").each(function(){var e=$(this),t=e.closest("td"),a=t.find("label");e.appendTo(t),a.appendTo(t)})),(r.click(function(e){var t=$(e.currentTarget),a=t.next(),n=t.parent();$(".table--open-filter").removeClass("filter__current"),n.addClass("filter__current"),$(".edit--dialog").fadeOut(),a.fadeIn()}),void o.click(function(e){var t=$(".table--open-filter"),a=$(".edit--dialog");t.removeClass("filter__current"),a.fadeOut()})),void $(".fancy-gallery").fancybox({hash:null}),void l.click(function(e){var t=$(e.currentTarget);l.removeClass("table--sort__active"),t.addClass("table--sort__active")}),void(0!==$(".table-form").length&&($("body").addClass("no-overflow"),s.addClass("no-overflow"))),(u(),void $(window).resize(function(){u()})),void $(".toggler").click(function(){var e=$(this).attr("data-toggleUrl");$.ajax({type:"post",url:e,success:function(e){}})}),void $(".total__el").find("select").on("change",function(){var e=$(this).val();window.location=e}))},function(e,t){var a=$("[data-action]"),n=$(".js-trigger");$(document).ready((a.click(function(e){var t=$(e.currentTarget).attr("data-action");$("form").attr("action",t).submit()}),void n.click(function(e){var t=$(e.currentTarget);$("."+t.attr("data-trigger")).trigger("click")})))},function(e,t){var a=$(".phone");$(".change-phone--toggler"),$(".input-group--change-phone");$(document).ready(void($("html").is(":lang(ru)")?a.mask("+7 (000) 000 00-00"):a.mask("+1 (000) 000 00-00")))},function(e,t){var a=$(".date:not([readonly]"),n=$(".date__multi:not([readonly]");$(document).ready((a.daterangepicker({timePicker:!0,timePicker24Hour:!0,singleDatePicker:!0,locale:{format:"DD.MM.YYYY HH:mm",applyLabel:"Принять",cancelLabel:"Отмена",invalidDateLabel:"Выберите дату",daysOfWeek:["Вт","Ср","Чт","Пт","Сб","Вс","Пн"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],firstDay:1}}).next().click(function(e){$(e.currentTarget).parent(".input-group__date").find(".date").focus()}),n.daterangepicker({locale:{format:"DD.MM.YYYY",applyLabel:"Принять",cancelLabel:"Отмена",invalidDateLabel:"Выберите дату",daysOfWeek:["Вт","Ср","Чт","Пт","Сб","Вс","Пн"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],firstDay:1}}).next().click(function(e){$(e.currentTarget).parent(".input-group__date").find(".date__multi").focus()}),void $(".input-group__date").on("click",".date",function(){$(".hourselect option:lt(10)").each(function(e){for(var t=0;t<10;++t)$(this).html("0"+e).val("0"+e)})})))},function(e,t){var a=$(".select__single"),n=$(".select__single__no-search"),i=$(".total-number-current"),r=$(".select__single__elPerPage");$(document).ready((a.select2().on("select2:select",function(e){a.hasClass("select2-hidden-accessible")&&($(this).parent().find(".select2-selection__choice").each(function(){var e=$(this).attr("title");$(this).find("span").after('<a class="tag--link" href="'+e+'" target="_blank"><i class="fa fa-link" aria-hidden="true"></i></a>')}),$("li").attr("title",""))}).on("select2:unselect",function(e){a.hasClass("select2-hidden-accessible")&&($(this).parent().find(".select2-selection__choice").each(function(){var e=$(this).attr("title");$(this).find("span").after('<a class="tag--link" href="'+e+'" target="_blank"><i class="fa fa-link" aria-hidden="true"></i></a>')}),$("li").attr("title",""))}),n.select2({minimumResultsForSearch:1/0}).on("select2:select",function(e){var t=e.params.data.text;i.html(t)}),void r.select2({minimumResultsForSearch:1/0}).on("select2:select",function(e){var t=$(e.currentTarget),a=t.val();t.closest("form"),window.location=a})),void(a.hasClass("select2-hidden-accessible")&&($(".select2-selection__choice").each(function(){var e=$(this).attr("title");$(this).find("span").after('<a class="tag--link" href="'+e+'" target="_blank"><i class="fa fa-link" aria-hidden="true"></i></a>')}),$("li").attr("title",""))))},function(e,t){var a=$(".summernote"),n=$(".filemanager--add-file .btn__add-file"),i=$(".filemanager--dialog-button");$(document).ready(void a.summernote({height:200}),(n.click(function(e){var t=$(e.currentTarget),a=t.next();t.addClass("add-file__open"),a.fadeIn()}),void i.click(function(e){var t=$(e.currentTarget),a=t.closest(".filemanager--add-file--dialog");t.removeClass("add-file__open"),a.fadeOut()})),$(function(){window.File&&window.FileReader&&window.FileList&&$.Deferred&&($.fn.serializeObject=function(){var e=$(this);return $.when().then(function(){var t=new $.Deferred,a=e.find(":input[name]").not(":checkbox").serializeArray();return e.find(":checkbox[name]").each(function(){this.hasAttribute("value")?this.checked&&a.push({name:this.name,value:this.value}):a.push({name:this.name,value:this.checked})}),t.resolve(a),t.promise()}).then(function(t){var a=new $.Deferred,n=[],i=[];return e.find('input[type="file"][name]').each(function(){for(var e=$(this).get(0),t=0;t<e.files.length;t++){n.push(new $.Deferred),i.push(new FileReader);var a=n.length-1;i[a].onload=function(e,t,a){return function(n){var i=n.target.result,r=i.indexOf(",")+1,o={name:e.name,type:e.type,size:e.size,data:r?i.slice(r):null};t.resolve({name:a,value:o})}}(e.files[t],n[a],e.name),i[a].onerror=function(e){return function(t){e.reject(t.target.error)}}(n[a]),i[a].readAsDataURL(e.files[t])}}),$.when.apply($,n).then(function(){if(arguments[0])for(var e=0;e<arguments.length;e++)t.push(arguments[e]);a.resolve(t)},function(e){a.reject(e)}),a.promise()}).then(function(e){var t=new $.Deferred,a={};return $.each(e,function(){var e=void 0===this.value?"":this.value;"[]"===this.name.slice(-2)&&(this.name=this.name.slice(0,-2),void 0===a[this.name]&&(a[this.name]=[])),void 0!==a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(e)):a[this.name]=e}),t.resolve(a),t.promise()})})}))},function(e,t){var a=$('input[type="number"]');$(document).ready((a.before('<i class="fa fa-caret-up js-plus" aria-hidden="true"></i>'),a.after('<i class="fa fa-caret-down js-minus" aria-hidden="true"></i>'),$(".js-minus").click(function(e){var t=$(e.currentTarget).parent().find("input");t.val()>1&&t.val(+t.val()-1)}),void $(".js-plus").click(function(e){var t=$(e.currentTarget).parent().find("input");t.val(+t.val()+1)})))},function(e,t){$(".overflow__custom");$(document).ready()},function(e,t){},function(e,t){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$(document).ready(function(){function e(){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}function t(){$("#fm-breadcrumbs article").html(""),currentPath=$("#fm-breadcrumbs").attr("data-article"),$pathArray=currentPath.split("/"),console.log($pathArray);for(var e=1;e<$pathArray.length;e++)$("#fm-breadcrumbs article").append('<a data-path="'+currentPath+"/"+$pathArray[e]+'/">'+$pathArray[e]+"/</a>"),currentPath=currentPath+"/"+$pathArray[e];$("#fm-breadcrumbs article a").last().remove(),$("#fm-breadcrumbs article a").last().attr("data-path",""),currentPath="/"}function n(e){$.ajax({type:"get",data:{path:e},url:"/atom/filemanager/list/",success:function(t){$("#fm-path").val(e),$(".filemanager--content").html(""),i(t)},error:function(){}})}function i(e){for(var t in(e=e||{}).files)"dir"===e.files[t].type?$(".filemanager--content").append('<div class="filemanager--item filemanager--folder"><i class="fa fa-folder" aria-hidden="true"></i><span class="filemanager--item--name">'+e.files[t].filename+"</span></div>"):$(".filemanager--content").append('<div class="filemanager--item"><i class="fa fa-file" aria-hidden="true"></i><span class="filemanager--item--name">'+e.files[t].filename+"</span></div>")}function r(){$(".fm-file-upload:not(.multiple)").each(function(){var e=$(this).find("append-img-path").attr("name");$(this).find("append-img-path").attr("name",e),0!==$(this).find("article").length?$(this).find(".img-upload").hide():$(this).find(".img-upload").show()})}$.fn.ajaxSubmit=function(t){if(!this.length)return e("ajaxSubmit: skipping submit process - no element selected"),this;var a,i,r,o=this;"function"==typeof t&&(t={success:t}),a=this.attr("method"),(r=(r="string"==typeof(i=this.attr("action"))?$.trim(i):"")||window.location.href||"")&&(r=(r.match(/^([^#]+)/)||[])[1]),t=$.extend(!0,{url:r,success:$.ajaxSettings.success,type:a||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var l={};if(this.trigger("form-pre-serialize",[this,t,l]),l.veto)return e("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&!1===t.beforeSerialize(this,t))return e("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var s,c,u=this.formToArray(t.semantic);if(t.data)for(s in t.extraData=t.data,t.data)if($.isArray(t.data[s]))for(var f in t.data[s])u.push({name:s,value:t.data[s][f]});else c=t.data[s],c=$.isFunction(c)?c():c,u.push({name:s,value:c});if(t.beforeSubmit&&!1===t.beforeSubmit(u,this,t))return e("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[u,this,t,l]),l.veto)return e("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var d=$.param(u);"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+d,t.data=null):t.data=d;var m=[];if(t.resetForm&&m.push(function(){o.resetForm()}),t.clearForm&&m.push(function(){o.clearForm()}),!t.dataType&&t.target){var p=t.success||function(){};m.push(function(e){var a=t.replaceTarget?"replaceWith":"html";$(t.target)[a](e).each(p,arguments)})}else t.success&&m.push(t.success);t.success=function(e,a,n){console.log("success");for(var i=t.context||t,r=0,l=m.length;r<l;r++)m[r].apply(i,[e,a,n||o,o])};var h=$("input:file",this).length>0,g="multipart/form-data",v=o.attr("enctype")==g||o.attr("encoding")==g;if(!1!==t.iframe&&(h||t.iframe||v))t.closeKeepAlive?$.get(t.closeKeepAlive,function(){y(u)}):y(u);else{if($.browser.msie&&"get"==a){var b=o[0].getAttribute("method");"string"==typeof b&&(t.type=b)}$.ajax(t)}return this.trigger("form-submit-notify",[this,t]),this;function y(i){var r,l,s,c,u,f,d,m,p,h,g,v=o[0],b=!!$.fn.prop;if(i)for(r=0;r<i.length;r++)$(v[i[r].name])[b?"prop":"attr"]("disabled",!1);if($(":input[name=submit],:input[id=submit]",v).length)alert('Error: Form elements must not have name or id of "submit".');else if((l=$.extend(!0,{},$.ajaxSettings,t)).context=l.context||l,c="jqFormIO"+(new Date).getTime(),l.iframeTarget?null==(p=(u=$(l.iframeTarget)).attr("name"))?u.attr("name",c):c=p:(u=$('<iframe name="'+c+'" src="'+l.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),f=u[0],d={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var a="timeout"===t?"timeout":"aborted";e("aborting upload... "+a),this.aborted=1,u.attr("src",l.iframeSrc),d.error=a,l.error&&l.error.call(l.context,d,a,t),s&&$.event.trigger("ajaxError",[d,l,a]),l.complete&&l.complete.call(l.context,d,a)}},(s=l.global)&&!$.active++&&$.event.trigger("ajaxStart"),s&&$.event.trigger("ajaxSend",[d,l]),l.beforeSend&&!1===l.beforeSend.call(l.context,d,l))l.global&&$.active--;else if(!d.aborted){(m=v.clk)&&(p=m.name)&&!m.disabled&&(l.extraData=l.extraData||{},l.extraData[p]=m.value,"image"==m.type&&(l.extraData[p+".x"]=v.clk_x,l.extraData[p+".y"]=v.clk_y));var y=1,_=2;l.forceSync?O():setTimeout(O,10);var x,k,w,T=50,j=$.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},C=$.parseJSON||function(e){return window.eval("("+e+")")},S=function(e,a,n){var i=e.getResponseHeader("content-type")||"",r="xml"===a||!a&&i.indexOf("xml")>=0,o=r?e.responseXML:e.responseText;r&&"parsererror"===o.documentElement.nodeName&&$.error&&$.error("parsererror"),n&&n.dataFilter&&(o=n.dataFilter(o,a)),"string"==typeof o&&("json"===a||!a&&i.indexOf("json")>=0?o=C(o):("script"===a||!a&&i.indexOf("javascript")>=0)&&$.globalEval(o));expResult=o.match(/<img[^>]+>/i),null==expResult||$(t.target).prepend(o),"qty_err"==o?$(".upload_err").html("Uploading limit is over, please click on finish and upload again."):"size_err"==o?$(".upload_err").html("Your family diskspace is filled up."):"err"==o?$(".upload_err").html("Some problem(s) is occur, please try again."):$(t.target).html(o),$("#gallery_image").val("")}}function D(e){return e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document}function O(){var t=o.attr("target"),n=o.attr("action");v.setAttribute("target",c),a||v.setAttribute("method","POST"),n!=l.url&&v.setAttribute("action",l.url),l.skipEncodingOverride||a&&!/post/i.test(a)||o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),l.timeout&&(g=setTimeout(function(){h=!0,L(y)},l.timeout));var i=[];try{if(l.extraData)for(var r in l.extraData)i.push($('<input type="hidden" name="'+r+'" />').attr("value",l.extraData[r]).appendTo(v)[0]);l.iframeTarget||(u.appendTo("body"),f.attachEvent?f.attachEvent("onload",L):f.addEventListener("load",L,!1)),setTimeout(function t(){try{var a=D(f).readyState;e("state = "+a),"uninitialized"==a.toLowerCase()&&setTimeout(t,50)}catch(t){e("Server abort: ",t," (",t.name,")"),L(_),g&&clearTimeout(g),g=void 0}},15),v.submit()}finally{v.setAttribute("action",n),t?v.setAttribute("target",t):o.removeAttr("target"),$(i).remove()}}function L(t,a){if(!d.aborted&&!w){try{k=D(f)}catch(a){e("cannot access response document: ",a),t=_}if(t===y&&d)d.abort("timeout");else if(t==_&&d)d.abort("server abort");else if(k&&k.location.href!=l.iframeSrc||h){f.detachEvent?f.detachEvent("onload",L):f.removeEventListener("load",L,!1);var i,r="success";try{if(h)throw"timeout";var o="xml"==l.dataType||k.XMLDocument||$.isXMLDoc(k);if(e("isXml="+o),!o&&window.opera&&(null==k.body||""==k.body.innerHTML)&&--T)return e("requeing onLoad callback, DOM not available"),void setTimeout(L,250);var c=k.body?k.body:k.documentElement;d.responseText=c?c.innerHTML:null,d.responseXML=k.XMLDocument?k.XMLDocument:k,o&&(l.dataType="xml"),d.getResponseHeader=function(e){return{"content-type":l.dataType}[e]},c&&(d.status=Number(c.getAttribute("status"))||d.status,d.statusText=c.getAttribute("statusText")||d.statusText);var m=l.dataType||"",p=/(json|script|text)/.test(m.toLowerCase());if(p||l.textarea){var v=k.getElementsByTagName("textarea")[0];if(v)d.responseText=v.value,d.status=Number(v.getAttribute("status"))||d.status,d.statusText=v.getAttribute("statusText")||d.statusText;else if(p){var b=k.getElementsByTagName("pre")[0],C=k.getElementsByTagName("body")[0];b?d.responseText=b.textContent?b.textContent:b.innerHTML:C&&(d.responseText=C.innerHTML)}}else"xml"!=l.dataType||d.responseXML||null==d.responseText||(d.responseXML=j(d.responseText));try{x=S(d,l.dataType,l),n($("#fm-path").val())}catch(t){r="parsererror",d.error=i=t||r}}catch(t){e("error caught: ",t),r="error",d.error=i=t||r}d.aborted&&(e("upload aborted"),r=null),d.status&&(r=d.status>=200&&d.status<300||304===d.status?"success":"error"),"success"===r?(l.success&&l.success.call(l.context,x,"success",d),s&&$.event.trigger("ajaxSuccess",[d,l])):r&&(void 0==i&&(i=d.statusText),l.error&&l.error.call(l.context,d,r,i),s&&$.event.trigger("ajaxError",[d,l,i])),s&&$.event.trigger("ajaxComplete",[d,l]),s&&!--$.active&&$.event.trigger("ajaxStop"),l.complete&&l.complete.call(l.context,d,r),w=!0,l.timeout&&clearTimeout(g),setTimeout(function(){l.iframeTarget||u.remove(),d.responseXML=null},100)}}}}},$.fn.ajaxForm=function(t){if(0===this.length){var a={s:this.selector,c:this.context};return!$.isReady&&a.s?(e("DOM not ready, queuing ajaxForm"),$(function(){$(a.s,a.c).ajaxForm(t)}),this):(e("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(e){e.isDefaultPrevented()||(e.preventDefault(),$(this).ajaxSubmit(t))}).bind("click.form-plugin",function(e){var t=e.target,a=$(t);if(!a.is(":submit,input:image")){var n=a.closest(":submit");if(0==n.length)return;t=n[0]}var i=this;if(i.clk=t,"image"==t.type)if(void 0!=e.offsetX)i.clk_x=e.offsetX,i.clk_y=e.offsetY;else if("function"==typeof $.fn.offset){var r=a.offset();i.clk_x=e.pageX-r.left,i.clk_y=e.pageY-r.top}else i.clk_x=e.pageX-t.offsetLeft,i.clk_y=e.pageY-t.offsetTop;setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)})},$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},$.fn.formToArray=function(e){var t=[];if(0===this.length)return t;var a,n,i,r,o,l,s,c=this[0],u=e?c.getElementsByTagName("*"):c.elements;if(!u)return t;for(a=0,l=u.length;a<l;a++)if(i=(o=u[a]).name)if(e&&c.clk&&"image"==o.type)o.disabled||c.clk!=o||(t.push({name:i,value:$(o).val()}),t.push({name:i+".x",value:c.clk_x},{name:i+".y",value:c.clk_y}));else if((r=$.fieldValue(o,!0))&&r.constructor==Array)for(n=0,s=r.length;n<s;n++)t.push({name:i,value:r[n]});else null!==r&&void 0!==r&&t.push({name:i,value:r});if(!e&&c.clk){var f=$(c.clk),d=f[0];(i=d.name)&&!d.disabled&&"image"==d.type&&(t.push({name:i,value:f.val()}),t.push({name:i+".x",value:c.clk_x},{name:i+".y",value:c.clk_y}))}return t},$.fn.formSerialize=function(e){return $.param(this.formToArray(e))},$.fn.fieldSerialize=function(e){var t=[];return this.each(function(){var a=this.name;if(a){var n=$.fieldValue(this,e);if(n&&n.constructor==Array)for(var i=0,r=n.length;i<r;i++)t.push({name:a,value:n[i]});else null!==n&&void 0!==n&&t.push({name:this.name,value:n})}}),$.param(t)},$.fn.fieldValue=function(e){for(var t=[],a=0,n=this.length;a<n;a++){var i=this[a],r=$.fieldValue(i,e);null===r||void 0===r||r.constructor==Array&&!r.length||(r.constructor==Array?$.merge(t,r):t.push(r))}return t},$.fieldValue=function(e,t){var a=e.name,n=e.type,i=e.tagName.toLowerCase();if(void 0===t&&(t=!0),t&&(!a||e.disabled||"reset"==n||"button"==n||("checkbox"==n||"radio"==n)&&!e.checked||("submit"==n||"image"==n)&&e.form&&e.form.clk!=e||"select"==i&&-1==e.selectedIndex))return null;if("select"==i){var r=e.selectedIndex;if(r<0)return null;for(var o=[],l=e.options,s="select-one"==n,c=s?r+1:l.length,u=s?r:0;u<c;u++){var f=l[u];if(f.selected){var d=f.value;if(d||(d=f.attributes&&f.attributes.value&&!f.attributes.value.specified?f.text:f.value),s)return d;o.push(d)}}return o}return $(e).val()},$.fn.clearForm=function(){return this.each(function(){$("input,select,textarea",this).clearFields()})},$.fn.clearFields=$.fn.clearInputs=function(){var e=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,a=this.tagName.toLowerCase();e.test(t)||"textarea"==a?this.value="":"checkbox"==t||"radio"==t?this.checked=!1:"select"==a&&(this.selectedIndex=-1)})},$.fn.resetForm=function(){return update($oldPath),this.each(function(){("function"==typeof this.reset||"object"==a(this.reset)&&!this.reset.nodeType)&&this.reset()})},$.fn.enable=function(e){return void 0===e&&(e=!0),this.each(function(){this.disabled=!e})},$.fn.selected=function(e){return void 0===e&&(e=!0),this.each(function(){var t=this.type;if("checkbox"==t||"radio"==t)this.checked=e;else if("option"==this.tagName.toLowerCase()){var a=$(this).parent("select");e&&a[0]&&"select-one"==a[0].type&&a.find("option").selected(!1),this.selected=e}})},$.ajaxSetup({cache:!1}),$("#files").on("change",function(){var e=$("#fm-path").val(),t=$(this).attr("data-basepath");console.log(t,e),$("#upload_form").attr("action","/atom/filemanager"+t+"/?path="+e),$("#upload_form").ajaxForm().submit()}),0!==$(".fm-file-upload article").length&&$(".fm-file-upload article").each(function(){var e=$(this).find(".append-img-path").val();$(this).prepend('<img src="'+e+'">')}),0!==$("#filemanager").length&&$.ajax({type:"get",url:"/atom/filemanager/list/",success:function(e){i(e)},error:function(){}}),$(".filemanager--add-files").click(function(){$("#files").trigger("click")}),$(".filemanager--home").on("click",function(){$.ajax({type:"get",data:{path:""},url:"/atom/filemanager/list/",success:function(e){$("#fm-path").val("/"),$(".filemanager--content").html(""),i(e)},error:function(){}}),$("#fm-breadcrumbs article").html("")}),$(".filemanager--del-file").click(function(){var e=$("#fm-path").val(),t=[];$(".filemanager--item__active").each(function(){t.push($(this).find(".filemanager--item--name").html())}),$.ajax({type:"post",data:{path:e,files:t},url:"/atom/filemanager/remove/",success:function(){n(e),$("#upload_form").find("input").val("")},error:function(){}})}),$(".filemanager--up-dir").click(function(){var e=$("#fm-path").val(),t="";if("/"!==e){for(var a=e.split("/"),i=0;i<a.length-2;i++)t=t+a[i]+"/";n(e=t)}$("#fm-breadcrumbs article a").last().remove()}),$(".filemanager--add-dir").click(function(){$(".filemanager--add-dir__name").fadeToggle()}),$(".filemanager--add-dir__name .btn__icon").click(function(){var e=$(this).closest(".filemanager--add-dir__name").find("input").val(),t=$("#fm-path").val();$(".filemanager--add-dir__name").fadeOut(),$.ajax({type:"post",data:{path:t,dir:e},url:"/atom/filemanager/mkdir/",success:function(){n(t)},error:function(){}})}),$("body").on("dblclick",".filemanager--folder",function(){var e=$(this).find(".filemanager--item--name").text(),t=$("#fm-path").val()+e+"/";$("#fm-breadcrumbs article").html("");for(var a=$(this).find("span").html(),i=$("#fm-path").val().split("/"),r="",o=1;o<i.length-1;o++)$("#fm-breadcrumbs article").append('<a data-path="'+r+"/"+i[o]+'/">'+i[o]+"/</a>"),r=r+"/"+i[o];$("#fm-breadcrumbs article").append("<a>"+a+"</a>"),$.ajax({type:"get",data:{path:e},url:"/atom/filemanager/list/",success:function(){n(t)},error:function(){}})}),$("body").on("click","#fm-breadcrumbs a",function(){var e=$(this).attr("data-path");$("#fm-breadcrumbs").attr("data-article",e),$.ajax({type:"get",data:{path:e},url:"/atom/filemanager/list/",success:function(a){$("#fm-path").val(e),$(".filemanager--content").html(""),i(a),t()},error:function(){}})}),$("#filemanager").on("click",".filemanager--item",function(){$(this).closest("#filemanager").hasClass("multiple")?$(this).toggleClass("filemanager--item__active"):($(".filemanager--item").removeClass("filemanager--item__active"),$(this).addClass("filemanager--item__active"))}),$(".btn__append").click(function(){var e="",t=$("#fm-path").val();$(".filemanager--item__active:not(.filemanager--folder)").each(function(){if(e=$(this).find(".filemanager--item--name").html(),$(".fm-file-upload section").hasClass("append")){var a=$(".append").closest(".fm-file-upload").attr("data-basepath"),n=$(".append").find(".file-triggered").attr("data-fieldname");$(".append").prepend('<article><img src="'+a+t+e+'"><input type="text" class="append-img-path" name="'+n+'.routes[]" value="'+a+t+e+'" hidden><i class="fa fa-times delete-img-append" aria-hidden="true"></i><i class="fa fa-pencil-square-o rename-img-append" aria-hidden="true"></i><label class="edit--dialog"><input type="text" class="append-img-name edit--dialog__name" name="'+n+'.titles[]" value="'+e+'"><a class="btn btn__icon btn__submit js-img-name"><i class="fa fa-check" aria-hidden="true"></i></a><a class="btn btn__icon js-closeDialog"><i class="fa fa-times" aria-hidden="true"></i></a></label><span class="name-image-append">'+e+"</span></article>"),0!==$(".append").find(".empty-input").length&&($(".append").find(".empty-input").remove(),$(".append").removeClass("empty")),r()}else{a=$(".append").prev().attr("data-basepath");$(".append").find(".note-editable").prepend('<article><img src="'+a+"/"+t+e+'"><input type="text" class="append-img-path" name="img-path" value="'+a+"/"+t+e+'" hidden></article>')}}),$(".filemanager--item").each(function(){$(this).removeClass("filemanager--item__active")}),$("#fm-overflow").fadeOut(),$("*").removeClass("append")}),$(".img-upload").click(function(){$("#fm-overflow").fadeIn(),$(this).closest("section").addClass("append"),$(this).closest(".fm-file-upload").hasClass("multiple")?$("#filemanager").addClass("multiple"):$("#filemanager").removeClass("multiple")}),$("body").on("click",".note-icon-picture, .note-icon-video",function(){$(".note-group-image-url, .note-video-url").closest(".modal.show").remove(),$(".modal-backdrop.show").remove(),$(".note-editor").addClass("append"),$("#fm-overflow").fadeIn(),$("#filemanager").addClass("multiple")}),$(".js-img-close-fm, .btn__cansel").click(function(){$("#fm-overflow").fadeOut(),$("*").removeClass("append")}),$("body").on("click",".delete-img-append",function(){if(console.log($(this).closest(".fm-file-upload").find("article").length),$(this).closest(".fm-file-upload").find("article").length<=1){var e=$(this).closest(".fm-file-upload").find(".file-triggered").attr("data-fieldname");$(this).closest("section").addClass("empty"),$(this).closest(".fm-file-upload").find(".empty").append('<input class="empty-input" type="text" name='+e+'.routes value="null" hidden>')}$(this).closest("article").remove(),r()}),$("body").delegate(".rename-img-append","click",function(){$(this).closest("article").find(".edit--dialog").fadeIn()}),$("body").delegate(".js-closeDialog","click",function(){$(".edit--dialog").fadeOut()}),$("body").delegate(".js-img-name","click",function(){console.log("test");var e=$(this).closest(".edit--dialog"),t=e.closest("article").find(".name-image-append"),a=e.find(".append-img-name").val();console.log(a),t.html(a),$(".edit--dialog").fadeOut()}),$(".filemanager--control, .filemanager--close-filemanager").hover(function(){$(this).find("span").fadeToggle(200)}),r()})},function(e,t){$(document).ready(function(){var e=$(".js-item-value"),t=$("body"),a=$(".popover-config-corpus"),n={modifiers:{preventOverflow:{enabled:!0}},placement:"right",eventsEnabled:!0,removeOnDestroy:!0,onCreate:function(){e.val(""),$(".popover-config-corpus").removeClass("d-none"),$(".corpus-config-selector__item").removeClass("active"),t.addClass("active")},onUpdate:function(){}};new Popper(t,a,{});function i(){$(".popover-config-corpus").addClass("d-none"),$(".corpus-config-selector__item").removeClass("active")}$(".corpus-config-selector").on("click",".corpus-config-selector__item",function(){!function(e){!function(e){return e.hasClass("selected")}(e)?($(".mode-delete").removeClass("d-inline-block"),$(".mode-write").addClass("d-inline-block")):($(".mode-delete").addClass("d-inline-block"),$(".mode-write").removeClass("d-inline-block"))}(t=$(this));var e=new Popper(t,a,n);setTimeout(function(){e.update()},20)}),$(".popover-config-corpus").on("input change",".js-item-value",function(){e.val(e.val().slice(-2))}),$(".popover-config-corpus").on("click",".btn-cancel",i),a.on("click",".mode-delete__btn",function(){!function(e){e.removeClass("selected").find("input").val("")}(t),i()}),a.on("click",".btn__corpus-submit",function(){!function(t){var a=e.val();if(""==a)return;t.addClass("selected").find("input").val(a)}(t),i()})})},function(e,t,a){}]);
//# sourceMappingURL=bundle.js.map